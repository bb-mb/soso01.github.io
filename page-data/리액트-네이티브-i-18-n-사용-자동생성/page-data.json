{
    "componentChunkName": "component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx",
    "path": "/리액트-네이티브-i-18-n-사용-자동생성",
    "result": {"data":{"post":{"slug":"/리액트-네이티브-i-18-n-사용-자동생성","title":"리액트 네이티브 i18n 사용, 자동생성","date":"30.09.2021","tags":[{"name":"dev","slug":"dev"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"리액트 네이티브 i18n 사용, 자동생성\",\n  \"date\": \"2021-09-30T00:00:00.000Z\",\n  \"tags\": [\"dev\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"\\uB9AC\\uC561\\uD2B8 \\uB124\\uC774\\uD2F0\\uBE0C \\uC571 \\uB2E4\\uAD6D\\uC5B4 \\uC9C0\\uC6D0\\uC744 \\uC704\\uD574\\uC11C i18n \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD574\\uBD24\\uB2E4.\"), mdx(\"h3\", null, \"i18n\\uC774\\uB780?\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Internationalization \\uC758 \\uCD95\\uC57D\\uC5B4\\uC774\\uB2E4\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uAD6D\\uC81C\\uD654\\uB97C \\uC704\\uD55C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uC5B8\\uC5B4 \\uBC88\\uC5ED \\uC678\\uC5D0\\uB3C4 \\uD1B5\\uD654, ltr or rtl \\uB4F1 \\uC9C0\\uC6D0\")), mdx(\"h2\", null, \"RN \\uC801\\uC6A9\"), mdx(\"p\", null, \"i18n\\uC5D0 \\uC5EC\\uB7EC \\uAE30\\uB2A5\\uC774 \\uC788\\uC9C0\\uB9CC, \\uB098\\uB294 \\uC5B8\\uC5B4 \\uBC88\\uC5ED\\uB9CC\\uC744 \\uC704\\uD574\\uC11C \\uC0AC\\uC6A9\\uD588\\uB2E4.\"), mdx(\"h3\", null, \"\\uC124\\uC815 \\uCD08\\uAE30\\uD654\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript=\"\n  }, \"// i18n.js\\nimport i18n from 'i18n-js';\\nimport * as RNLocalize from 'react-native-localize';\\n\\nimport { DEFAULT_LOCALE, LANGUAGES, TEXT } from '@constants';\\nimport * as translations from './locales';\\n\\nexport function setI18n() {\\n  i18n.fallbacks = true;\\n  i18n.translations = translations;\\n  i18n.defaultLocale = DEFAULT_LOCALE;\\n  i18n.locale =\\n    RNLocalize.findBestAvailableLanguage(LANGUAGES)?.languageTag ||\\n    DEFAULT_LOCALE;\\n}\\n\\n// @constants\\nexport const DEFAULT_LOCALE = 'en';\\nexport const LANGUAGES = ['en', 'ko', 'ja', 'fr']; // \\uC9C0\\uC6D0\\uD560 \\uAD6D\\uAC00\\uB4E4\\nexport const TEXT = {\\n  hello: '\\uC548\\uB155\\uD558\\uC138\\uC694 {{name}}\\uB2D8',\\n  scope1: {\\n    scope2: {\\n      message: '\\uBA54\\uC138\\uC9C01',\\n      message2: '\\uB9AC\\uC561\\uD2B8 \\uB124\\uC774\\uD2F0\\uBE0C',\\n    },\\n  },\\n};\\n\\n\")), mdx(\"p\", null, \"LANGUAGES \\uC0C1\\uC218\\uC5D0 \\uC9C0\\uC6D0\\uD560 \\uC5B8\\uC5B4 \\uBAA9\\uB85D, TEXT \\uC0C1\\uC218\\uC5D0 \\uC571\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD55C \\uBB38\\uAD6C\\uB4E4\\uC744 \\uC815\\uC758\\uD588\\uB2E4.\"), mdx(\"p\", null, \"i18n \\uC124\\uC815 \\uCD08\\uAE30\\uD654\\uB294 setI18n \\uD568\\uC218\\uC5D0\\uC11C \\uC815\\uC758\\uD558\\uACE0, \\uC2A4\\uD50C\\uB798\\uC26C \\uD654\\uBA74\\uC744 \\uBCF4\\uC5EC\\uC904 \\uB54C setI18n \\uD568\\uC218\\uB97C \\uD638\\uCD9C\\uC2DC\\uCF30\\uB2E4. fallback \\uC5EC\\uBD80, translations(\\uBC88\\uC5ED\\uB41C \\uC5B8\\uC5B4 \\uBB38\\uAD6C \\uAC1D\\uCCB4), \\uC0AC\\uC6A9\\uC790 locale \\uB4F1\\uC744 \\uC124\\uC815\\uD55C\\uB2E4.\"), mdx(\"p\", null, \"RN\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uC790 locale\\uC740 react-native-localize \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C \\uAC00\\uC838\\uC654\\uB2E4. findBestAvailableLanguage \\uBA54\\uC11C\\uB4DC\\uB294 \\uC778\\uC790\\uB85C \\uB118\\uACA8\\uC900 \\uBC30\\uC5F4\\uC758 \\uC5B8\\uC5B4 \\uC911\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uC790\\uC5D0\\uAC8C \\uAC00\\uC7A5 \\uC801\\uD569\\uD55C \\uC5B8\\uC5B4\\uB97C \\uB9AC\\uD134\\uD574\\uC900\\uB2E4\\uACE0 \\uD55C\\uB2E4. \\uC5B4\\uB5A4 \\uC54C\\uACE0\\uB9AC\\uC998\\uC778\\uC9C0\\uB294 \\uC798 \\uBAA8\\uB974\\uACA0\\uB2E4.\"), mdx(\"h3\", null, \"\\uC0AC\\uC6A9\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript=\"\n  }, \"import { t } from 'i18n-js';\\n\\nt('scope1.scope2.message2') // \\uB9AC\\uC561\\uD2B8 \\uB124\\uC774\\uD2F0\\uBE0C\\n\")), mdx(\"p\", null, \"\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \\uC704\\uC640 \\uAC19\\uC774 t('key', options) \\uD615\\uD0DC\\uB85C \\uC0AC\\uC6A9\\uD55C\\uB2E4.\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"text.scope1.scope2.message2(options)\"), \" \\uC640 \\uAC19\\uC774 key\\uB97C argument\\uB85C \\uB118\\uACA8\\uC8FC\\uB294 \\uB300\\uC2E0 \\uAC1D\\uCCB4\\uC5D0\\uC11C \\uC811\\uADFC\\uD558\\uB294\\uAC8C \\uB354 \\uC4F0\\uAE30 \\uD3B8\\uD560 \\uAC83 \\uAC19\\uC544\\uC11C key\\uAC00 \\uBC14\\uC778\\uB529\\uB41C t \\uD568\\uC218\\uB97C value\\uB85C \\uAC00\\uC9C0\\uB294 text \\uAC1D\\uCCB4\\uB97C \\uC0DD\\uC131\\uD568\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript=\"\n  }, \"// i18n.js\\nexport const text = value2Translate(TEXT);\\n\\nexport function value2Translate(translation, scope = []) {\\n  return convertObj(translation, convertFunc);\\n\\n  function convertFunc({ key, value }) {\\n    if (typeof value === 'object') {\\n      return value2Translate(value, [...scope, key]);\\n    }\\n    return makeTranslate([...scope, key].join('.'));\\n  }\\n}\\n\\nfunction convertObj(obj, convertFunc) {\\n  return Object.keys(obj).reduce((acc, key) => {\\n    return { ...acc, [key]: convertFunc({ key, value: obj[key] }) };\\n  }, {});\\n}\\n\\nfunction makeTranslate(key) {\\n  return options => i18n.t(key, options);\\n}\\n\\n// Home.js\\nimport React from 'react';\\n\\nimport { text } from '@i18n';\\nimport * as S from './Home.styled';\\n\\nfunction Home() {\\n  return (\\n    <S.Wrap>\\n      <S.StyledText>{text.hello({ name: 'kim' })}</S.StyledText>\\n      <S.StyledText>{text.scope1.scope2.message2()}</S.StyledText>\\n    </S.Wrap>\\n  );\\n}\\n\\nexport default Home;\\n\")), mdx(\"p\", null, \"\\uADF8\\uB9AC\\uACE0 {{name}} \\uC740 Interpolation \\uAE30\\uB2A5\\uC73C\\uB85C options\\uAC1D\\uCCB4 name\\uC758 value\\uB85C \\uAD50\\uCCB4\\uB41C\\uB2E4.\"), mdx(\"h3\", null, \"\\uC2E4\\uD589 \\uD654\\uBA74\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uD55C\\uAD6D\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"https://i.imgur.com/uCzu6PB.png\",\n    \"alt\": \"한국\"\n  })), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uD504\\uB791\\uC2A4\\n\", mdx(\"img\", {\n    parentName: \"li\",\n    \"src\": \"https://i.imgur.com/eoFtvMY.png\",\n    \"alt\": \"프랑스\"\n  }))), mdx(\"p\", null, \"\\uC798 \\uC791\\uB3D9\\uD568\"), mdx(\"h2\", null, \"\\uAD6C\\uAE00 \\uBC88\\uC5ED api\\uB85C \\uC790\\uB3D9\\uC0DD\\uC131\"), mdx(\"p\", null, \"TEXT \\uC0C1\\uC218\\uC5D0\\uC11C \\uBB38\\uAD6C\\uB97C \\uD55C\\uBC88\\uB9CC \\uC815\\uC758\\uD558\\uACE0, \\uC5B8\\uC5B4\\uBCC4\\uB85C \\uBC88\\uC5ED\\uB41C \\uD30C\\uC77C\\uC740 \\uC790\\uB3D9 \\uC0DD\\uC131\\uC2DC\\uD0A4\\uAE30 \\uC704\\uD574 \\uAD6C\\uAE00 \\uD074\\uB77C\\uC6B0\\uB4DC api\\uB97C \\uC0AC\\uC6A9\\uD588\\uB2E4. \\uC6D4 \\uC694\\uCCAD 50\\uB9CC\\uAC74\\uAE4C\\uC9C0 \\uBB34\\uB8CC\\uB77C\\uC11C \\uBD80\\uB2F4\\uC5C6\\uC774 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC5C8\\uB2E4.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript=\"\n  }, \"// googleTranslate.js\\nconst { Translate } = require('@google-cloud/translate').v2;\\nconst fs = require('fs');\\nconst path = require('path');\\n\\nimport { LANGUAGES, TEXT } from '@constants';\\nimport { googleTranslateKey } from './key';\\n\\n// Instantiates a client\\nconst translate = new Translate({ key: googleTranslateKey });\\n\\n(async function run() {\\n  saveLocaleJson();\\n  saveLocaleIndexJs();\\n})();\\n\\nfunction saveLocaleIndexJs() {\\n  fs.writeFileSync(\\n    path.resolve(__dirname, '../src/i18n/locales/index.js'),\\n    LANGUAGES.reduce(\\n      (acc, lang) =>\\n        acc + `export { default as ${lang} } from './${lang}.json';\\\\n`,\\n      '',\\n    ),\\n  );\\n}\\n\\nfunction saveLocaleJson() {\\n  LANGUAGES.forEach(async lang => {\\n    const result = await translateObj(TEXT, lang);\\n    fs.writeFileSync(\\n      path.resolve(__dirname, `../src/i18n/locales/${lang}.json`),\\n      JSON.stringify(result),\\n    );\\n  });\\n}\\n\\nasync function translateObj(obj, lang) {\\n  const result = {};\\n\\n  for (const [key, value] of Object.entries(obj)) {\\n    result[key] =\\n      typeof value === 'object'\\n        ? await translateObj(value, lang)\\n        : deleteSpanTag(\\n            (await translate.translate(addSpanTag(value), lang))[0],\\n          );\\n  }\\n  return result;\\n}\\n\\nfunction addSpanTag(text) {\\n  return text.replaceAll(/{{[^{}]+}}/g, '<span translate=\\\"no\\\">$&</span>');\\n}\\n\\nfunction deleteSpanTag(text) {\\n  return text.replaceAll(/<\\\\/?span[^>]*>/g, '');\\n}\\n\\n\")), mdx(\"p\", null, \"TEXT \\uAC1D\\uCCB4\\uC758 \\uBB38\\uAD6C\\uB97C \\uC5B8\\uC5B4\\uBCC4\\uB85C \\uBC88\\uC5ED\\uD558\\uACE0, fs \\uBAA8\\uB4C8\\uB85C \\uC9C1\\uC811 json \\uD30C\\uC77C\\uC744 \\uC0DD\\uC131\\uD588\\uB2E4. \\uB9AC\\uC561\\uD2B8 \\uB124\\uC774\\uD2F0\\uBE0C\\uC5D0\\uC11C \\uB3D9\\uC801\\uC73C\\uB85C require \\uACBD\\uB85C\\uB97C \\uC124\\uC815\\uD558\\uB2C8 \\uC5D0\\uB7EC\\uAC00 \\uB098\\uC11C \\uC5B8\\uC5B4\\uBCC4\\uB85C \\uC0DD\\uC131\\uD55C json\\uC744 export \\uD558\\uB294 index.js\\uB3C4 \\uC9C1\\uC811 \\uC0DD\\uC131\\uD588\\uB2E4. \\uC544\\uB9C8 \\uBE4C\\uB4DC\\uD0C0\\uC784\\uC5D0 require \\uACBD\\uB85C\\uAC00 \\uC815\\uD574\\uC838\\uC57C \\uB418\\uB294 \\uB4EF\\uD558\\uB2E4.\"), mdx(\"p\", null, \"{{name}} \\uACFC \\uAC19\\uC740 interpolation \\uAD6C\\uBB38\\uC5D0\\uC11C \\uD0A4\\uAC12(name)\\uC740 \\uBC88\\uC5ED\\uB418\\uC9C0 \\uC54A\\uB3C4\\uB85D \\uBC88\\uC5ED \\uC804\\uC5D0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<span translate=\\\"no\\\">\"), \" \\uD0DC\\uADF8\\uB85C \\uAC10\\uC2F8\\uACE0, \\uBC88\\uC5ED\\uD6C4\\uC5D0\\uB294 span \\uD0DC\\uADF8\\uB97C \\uC0AD\\uC81C\\uC2DC\\uCF30\\uB2E4.\"), mdx(\"h3\", null, \"\\uC2E4\\uD589\"), mdx(\"p\", null, \"\\uC704 \\uCF54\\uB4DC\\uB97C node\\uB85C \\uC2E4\\uD589\\uC2DC\\uD0A4\\uBA74 \\uB41C\\uB2E4.\"), mdx(\"p\", null, mdx(\"img\", {\n    parentName: \"p\",\n    \"src\": \"https://i.imgur.com/NfQSA53.png\",\n    \"alt\": null\n  })), mdx(\"p\", null, \"\\uC798 \\uC791\\uB3D9 \\uB428\"), mdx(\"p\", null, \"\\uAE43\\uD5D9 - \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/soso01/react-native-boilerplate\"\n  }, \"https://github.com/soso01/react-native-boilerplate\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"리액트 네이티브 앱 다국어 지원을 위해서 i18n 라이브러리를 사용해봤다. i18n이란? Internationalization 의 축약어이다 국제화를 위한 라이브러리 언어 번역 외에도 통화, ltr or rtl 등 지원 RN 적용 i18n…","timeToRead":1,"banner":null}},"pageContext":{"slug":"/리액트-네이티브-i-18-n-사용-자동생성","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}